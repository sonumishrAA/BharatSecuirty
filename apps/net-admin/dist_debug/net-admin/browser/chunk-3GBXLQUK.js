import{a as P}from"./chunk-KUOHR4GR.js";import"./chunk-GY5U62TY.js";import"./chunk-RT5UYCHB.js";import{$a as f,Ab as a,Bb as h,Cb as c,Ib as y,Na as n,Oa as u,Va as d,_ as m,db as C,fb as x,hb as b,ib as l,jb as p,kb as i,lb as o,sb as _}from"./chunk-V2IGFCHU.js";var v=(t,s)=>s.id;function M(t,s){t&1&&(i(0,"p",0),a(1,"Loading\u2026"),o())}function O(t,s){if(t&1&&(i(0,"li")(1,"span"),a(2),o(),i(3,"span",3),a(4),o()()),t&2){let e=s.$implicit;n(2),h(e.title),n(),C("published",e.status==="published")("draft",e.status==="draft"),n(),c(" ",e.status," ")}}function S(t,s){if(t&1&&(i(0,"div",1)(1,"h3"),a(2),i(3,"small"),a(4),o()(),i(5,"ul",2),l(6,O,5,6,"li",null,v),o()()),t&2){let e=s.$implicit,r=_();n(2),c(" ",e," "),n(2),c("(",r.groups()[e].length,")"),n(2),p(r.groups()[e])}}var F=(()=>{class t{constructor(e){this.postsService=e,this.groups=d({}),this.loading=d(!0)}ngOnInit(){this.fetchPosts()}fetchPosts(){this.postsService.getGroupedByCategory().subscribe({next:e=>{this.groups.set(e),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})}getCategoryKeys(){return Object.keys(this.groups())}static{this.\u0275fac=function(r){return new(r||t)(u(P))}}static{this.\u0275cmp=m({type:t,selectors:[["app-categories"]],standalone:!0,features:[y],decls:8,vars:1,consts:[[1,"muted"],[1,"card"],[1,"category-list"],[1,"badge"]],template:function(r,g){r&1&&(i(0,"div")(1,"h1"),a(2,"Categories"),o(),i(3,"p",0),a(4,"Posts grouped by category"),o(),f(5,M,2,0,"p",0),l(6,S,8,2,"div",1,b),o()),r&2&&(n(5),x(5,g.loading()?5:-1),n(),p(g.getCategoryKeys()))},styles:["h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:6px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px;margin-top:24px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#64748b;font-weight:400}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #e5e7eb}.category-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:999px;font-size:12px}.badge.published[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.badge.draft[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}"]})}}return t})();export{F as CategoriesComponent};
