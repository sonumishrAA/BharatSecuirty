import{a as B}from"./chunk-DZXTVIH6.js";import{c as I,e as V,j as T,p as W,q as z,r as A,t as N}from"./chunk-OBZSDWM5.js";import"./chunk-GY5U62TY.js";import"./chunk-RT5UYCHB.js";import{$a as M,Ab as r,Bb as v,Cb as b,Eb as p,Fb as _,Gb as f,Ib as E,Na as c,Oa as O,Va as x,_ as w,db as F,fb as C,ha as d,hb as y,ia as m,ib as S,jb as P,kb as n,lb as i,oc as k,qb as h,rb as u,sb as l}from"./chunk-V2IGFCHU.js";var L=(o,g)=>g.id;function D(o,g){if(o&1){let e=h();n(0,"span",20),r(1),n(2,"button",26),u("click",function(){let t=d(e).$index,s=l(2);return m(s.removeFeature(t))}),r(3,"\xD7"),i()()}if(o&2){let e=g.$implicit;c(),b(" ",e," ")}}function j(o,g){if(o&1){let e=h();n(0,"div",3)(1,"div",8)(2,"h3"),r(3),i(),n(4,"button",9),u("click",function(){d(e);let t=l();return m(t.closeForm())}),r(5,"\u2715"),i()(),n(6,"div",10)(7,"div",11)(8,"label"),r(9,"Title *"),i(),n(10,"input",12),f("ngModelChange",function(t){d(e);let s=l();return _(s.serviceForm.title,t)||(s.serviceForm.title=t),m(t)}),i()(),n(11,"div",11)(12,"label"),r(13,"Icon (Material Icon Name)"),i(),n(14,"input",13),f("ngModelChange",function(t){d(e);let s=l();return _(s.serviceForm.icon,t)||(s.serviceForm.icon=t),m(t)}),i()(),n(15,"div",14)(16,"label"),r(17,"Description *"),i(),n(18,"textarea",15),f("ngModelChange",function(t){d(e);let s=l();return _(s.serviceForm.description,t)||(s.serviceForm.description=t),m(t)}),i()(),n(19,"div",14)(20,"label"),r(21,"Features"),i(),n(22,"div",16)(23,"input",17),f("ngModelChange",function(t){d(e);let s=l();return _(s.featureInput,t)||(s.featureInput=t),m(t)}),u("keyup.enter",function(){d(e);let t=l();return m(t.addFeature())}),i(),n(24,"button",18),u("click",function(){d(e);let t=l();return m(t.addFeature())}),r(25,"Add"),i()(),n(26,"div",19),S(27,D,4,1,"span",20,y),i()(),n(29,"div",11)(30,"label"),r(31,"Status"),i(),n(32,"select",21),f("ngModelChange",function(t){d(e);let s=l();return _(s.serviceForm.status,t)||(s.serviceForm.status=t),m(t)}),n(33,"option",22),r(34,"Active"),i(),n(35,"option",23),r(36,"Inactive"),i()()()(),n(37,"div",24)(38,"button",25),u("click",function(){d(e);let t=l();return m(t.closeForm())}),r(39,"Cancel"),i(),n(40,"button",2),u("click",function(){d(e);let t=l();return m(t.submitForm())}),r(41),i()()()}if(o&2){let e=l();c(3),v(e.isEditMode?"Edit Service":"Add New Service"),c(7),p("ngModel",e.serviceForm.title),c(4),p("ngModel",e.serviceForm.icon),c(4),p("ngModel",e.serviceForm.description),c(5),p("ngModel",e.featureInput),c(4),P(e.serviceForm.features),c(5),p("ngModel",e.serviceForm.status),c(9),b(" ",e.isEditMode?"Update Service":"Create Service"," ")}}function U(o,g){o&1&&(n(0,"div",5),r(1,"Loading services..."),i())}function q(o,g){o&1&&(n(0,"div",6)(1,"p"),r(2,'No services found. Click "Add New Service" to create one.'),i()())}function G(o,g){if(o&1){let e=h();n(0,"tr")(1,"td")(2,"span",27),r(3),i()(),n(4,"td")(5,"strong"),r(6),i()(),n(7,"td")(8,"code"),r(9),i()(),n(10,"td")(11,"span",28),r(12),i()(),n(13,"td"),r(14),i(),n(15,"td")(16,"button",29),u("click",function(){let t=d(e).$implicit,s=l(2);return m(s.openEditForm(t))}),r(17,"\u270F\uFE0F Edit"),i()()()}if(o&2){let e=g.$implicit;c(3),v(e.icon),c(3),v(e.title),c(3),v(e.slug),c(2),F("active",e.status==="active")("inactive",e.status==="inactive"),c(),b(" ",e.status," "),c(2),b("",(e.features==null?null:e.features.length)||0," features")}}function H(o,g){if(o&1&&(n(0,"table",7)(1,"thead")(2,"tr")(3,"th"),r(4,"Icon"),i(),n(5,"th"),r(6,"Title"),i(),n(7,"th"),r(8,"Slug"),i(),n(9,"th"),r(10,"Status"),i(),n(11,"th"),r(12,"Features"),i(),n(13,"th"),r(14,"Actions"),i()()(),n(15,"tbody"),S(16,G,18,9,"tr",null,L),i()()),o&2){let e=l();c(16),P(e.services())}}var $=(()=>{class o{constructor(e){this.adminService=e,this.services=x([]),this.loading=x(!0),this.showForm=!1,this.isEditMode=!1,this.editingServiceId=null,this.serviceForm={title:"",description:"",icon:"security",features:[],status:"active"},this.featureInput=""}ngOnInit(){this.loadServices()}loadServices(){this.loading.set(!0),this.adminService.getAllServices().subscribe({next:e=>{this.services.set(e),this.loading.set(!1)},error:e=>{console.error("Failed to load services",e),this.loading.set(!1)}})}openAddForm(){this.isEditMode=!1,this.editingServiceId=null,this.resetForm(),this.showForm=!0}openEditForm(e){this.isEditMode=!0,this.editingServiceId=e.id||null,this.serviceForm={title:e.title,description:e.description,icon:e.icon,features:[...e.features||[]],status:e.status},this.showForm=!0}closeForm(){this.showForm=!1,this.resetForm()}addFeature(){this.featureInput.trim()&&(this.serviceForm.features=[...this.serviceForm.features||[],this.featureInput.trim()],this.featureInput="")}removeFeature(e){this.serviceForm.features=this.serviceForm.features?.filter((a,t)=>t!==e)}submitForm(){if(!this.serviceForm.title||!this.serviceForm.description){alert("Please fill in title and description");return}this.isEditMode&&this.editingServiceId?this.adminService.updateService(this.editingServiceId,this.serviceForm).subscribe({next:e=>{this.services.update(a=>a.map(t=>t.id===e.id?e:t)),this.closeForm()},error:e=>{console.error("Failed to update service",e),alert("Failed to update service")}}):this.adminService.createService(this.serviceForm).subscribe({next:e=>{this.services.update(a=>[e,...a]),this.closeForm()},error:e=>{console.error("Failed to create service",e),alert("Failed to create service")}})}resetForm(){this.serviceForm={title:"",description:"",icon:"security",features:[],status:"active"},this.featureInput="",this.isEditMode=!1,this.editingServiceId=null}static{this.\u0275fac=function(a){return new(a||o)(O(B))}}static{this.\u0275cmp=w({type:o,selectors:[["app-services"]],standalone:!0,features:[E],decls:11,vars:4,consts:[[1,"page-header"],[1,"actions"],[1,"btn","btn-primary",3,"click"],[1,"card","form-card"],[1,"card"],[1,"loading"],[1,"empty-state"],[1,"data-table"],[1,"form-header"],[1,"btn-close",3,"click"],[1,"form-grid"],[1,"form-group"],["type","text","placeholder","e.g., Web Application Security",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., security, language, cloud",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["rows","3","placeholder","Service description...",3,"ngModelChange","ngModel"],[1,"features-input"],["type","text","placeholder","Add a feature...",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"features-list"],[1,"feature-tag"],[3,"ngModelChange","ngModel"],["value","active"],["value","inactive"],[1,"form-actions"],[1,"btn","btn-secondary",3,"click"],["type","button",3,"click"],[1,"service-icon"],[1,"badge"],[1,"btn","btn-edit",3,"click"]],template:function(a,t){a&1&&(n(0,"div",0)(1,"h2"),r(2,"Services Management"),i(),n(3,"div",1)(4,"button",2),u("click",function(){return t.openAddForm()}),r(5," + Add New Service "),i()()(),M(6,j,42,7,"div",3),n(7,"div",4),M(8,U,2,0,"div",5)(9,q,3,0,"div",6)(10,H,18,0,"table",7),i()),a&2&&(c(6),C(6,t.showForm?6:-1),c(2),C(8,t.loading()?8:-1),c(),C(9,!t.loading()&&t.services().length===0?9:-1),c(),C(10,!t.loading()&&t.services().length>0?10:-1))},dependencies:[k,N,z,A,I,W,V,T],styles:[".page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:.375rem;border:none;cursor:pointer;font-weight:500;transition:all .2s}.btn.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff}.btn.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn.btn-secondary[_ngcontent-%COMP%]{background:#e5e7eb;color:#374151}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background:#d1d5db}.card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;padding:1.5rem;margin-bottom:1.5rem}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.125rem}.add-form[_ngcontent-%COMP%]{border-left:4px solid #2563eb}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #d1d5db;border-radius:.375rem;font-size:.875rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.features-input[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.features-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.features-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.feature-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;background:#eff6ff;color:#1e40af;padding:.25rem .5rem;border-radius:9999px;font-size:.75rem}.feature-tag[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:#1e40af;cursor:pointer;font-size:1rem;line-height:1;padding:0;margin-left:.25rem}.feature-tag[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#dc2626}.form-actions[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e7eb}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;border-bottom:1px solid #e5e7eb}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.data-table[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f3f4f6;padding:.125rem .375rem;border-radius:.25rem;font-size:.75rem}.service-icon[_ngcontent-%COMP%]{font-size:1.25rem}.badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:9999px;font-size:.75rem;font-weight:500}.badge.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.badge.inactive[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.loading[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#6b7280}.btn-edit[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;background:#eff6ff;color:#1e40af;border:none;border-radius:.25rem;cursor:pointer}.btn-edit[_ngcontent-%COMP%]:hover{background:#dbeafe}.form-card[_ngcontent-%COMP%]{border-left:4px solid #2563eb}.form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.form-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.25rem;cursor:pointer;color:#6b7280}.btn-close[_ngcontent-%COMP%]:hover{color:#374151}"]})}}return o})();export{$ as ServicesComponent};
