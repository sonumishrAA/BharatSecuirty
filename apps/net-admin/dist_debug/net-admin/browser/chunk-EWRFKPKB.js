import{a as P}from"./chunk-6SCAEIJC.js";import{f as S}from"./chunk-YBAUDIUZ.js";import{c as v,e as O,f as L,h as E,j as z,k,s as N,t as W}from"./chunk-OBZSDWM5.js";import"./chunk-GY5U62TY.js";import"./chunk-RT5UYCHB.js";import{$a as b,Ab as d,Bb as M,Cb as w,Eb as g,Fb as c,Gb as m,Ib as y,Na as a,Oa as s,Va as p,_ as f,bb as x,fb as h,kb as t,lb as i,rb as _,sb as C}from"./chunk-V2IGFCHU.js";function I(o,T){if(o&1&&(t(0,"div",6),d(1),i()),o&2){let n=C();a(),M(n.error())}}var B=(()=>{class o{constructor(n,l){this.authService=n,this.router=l,this.email="",this.password="",this.loading=p(!1),this.error=p("")}onSubmit(){this.error.set(""),this.loading.set(!0),this.authService.login({email:this.email,password:this.password}).subscribe({next:n=>{this.loading.set(!1),n?this.router.navigate(["/admin"]):this.error.set("Invalid email or password")},error:n=>{this.loading.set(!1),this.error.set(n.error?.message||"Login failed")}})}static{this.\u0275fac=function(l){return new(l||o)(s(P),s(S))}}static{this.\u0275cmp=f({type:o,selectors:[["app-login"]],standalone:!0,features:[y],decls:17,vars:5,consts:[[1,"login-wrap"],[1,"login-card",3,"ngSubmit"],[1,"muted"],[1,"form-group"],["type","email","name","email","autocomplete","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","autocomplete","current-password","required","",3,"ngModelChange","ngModel"],[1,"error"],["type","submit",1,"primary",3,"disabled"]],template:function(l,e){l&1&&(t(0,"div",0)(1,"form",1),_("ngSubmit",function(){return e.onSubmit()}),t(2,"h1"),d(3,"Admin Login"),i(),t(4,"p",2),d(5,"Restricted access"),i(),t(6,"div",3)(7,"label"),d(8,"Email"),i(),t(9,"input",4),m("ngModelChange",function(r){return c(e.email,r)||(e.email=r),r}),i()(),t(10,"div",3)(11,"label"),d(12,"Password"),i(),t(13,"input",5),m("ngModelChange",function(r){return c(e.password,r)||(e.password=r),r}),i()(),b(14,I,2,1,"div",6),t(15,"button",7),d(16),i()()()),l&2&&(a(9),g("ngModel",e.email),a(4),g("ngModel",e.password),a(),h(14,e.error()?14:-1),a(),x("disabled",e.loading()),a(),w(" ",e.loading()?"Signing in\u2026":"Login"," "))},dependencies:[W,k,v,O,L,N,z,E],styles:[".login-wrap[_ngcontent-%COMP%]{height:100vh;display:flex;align-items:center;justify-content:center;background:#f8fafc}.login-card[_ngcontent-%COMP%]{width:360px;background:#fff;padding:32px;border-radius:12px;border:1px solid #e5e7eb;box-shadow:0 4px 12px #00000014;display:flex;flex-direction:column;gap:16px}.login-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;margin-bottom:4px}.login-card[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{font-size:13px;color:#64748b}.login-card[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#dc2626;font-size:13px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:8px;border:1px solid #e5e7eb;font-size:14px;background:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 16px;border-radius:8px;border:1px solid #e5e7eb;background:#fff;font-size:14px;cursor:pointer;transition:background .15s cubic-bezier(.4,0,.2,1),box-shadow .15s cubic-bezier(.4,0,.2,1)}button.primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border-color:#2563eb}button.primary[_ngcontent-%COMP%]:hover{box-shadow:0 4px 14px #2563eb40}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})}}return o})();export{B as LoginComponent};
