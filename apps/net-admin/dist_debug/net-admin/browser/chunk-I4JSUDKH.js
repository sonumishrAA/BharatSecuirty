import{f as C}from"./chunk-YBAUDIUZ.js";import{a as M}from"./chunk-DZXTVIH6.js";import"./chunk-GY5U62TY.js";import"./chunk-RT5UYCHB.js";import{$a as g,Ab as n,Bb as s,Ib as h,Na as r,Oa as p,Va as c,_ as b,fb as l,ib as _,jb as f,kb as e,lb as t,oc as u,sb as m}from"./chunk-V2IGFCHU.js";var O=(o,d)=>d.id;function P(o,d){o&1&&(e(0,"p",2),n(1,"Loading stats..."),t())}function v(o,d){if(o&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td")(8,"span",10),n(9,"New"),t()()()),o&2){let i=d.$implicit,a=m(2);r(2),s(a.formatDate(i.created_at)),r(2),s(i.contact_name),r(2),s(i.service_title||"General")}}function S(o,d){o&1&&(e(0,"tr")(1,"td",11),n(2,"No inquiries yet"),t()())}function k(o,d){if(o&1&&(e(0,"div",3)(1,"div",4)(2,"span",5),n(3,"Total Inquiries"),t(),e(4,"span",6),n(5),t()(),e(6,"div",4)(7,"span",5),n(8,"Active Services"),t(),e(9,"span",6),n(10),t()()(),e(11,"div",7)(12,"h3"),n(13,"Recent Inquiries"),t(),e(14,"div",8)(15,"table",9)(16,"thead")(17,"tr")(18,"th"),n(19,"Date"),t(),e(20,"th"),n(21,"Name"),t(),e(22,"th"),n(23,"Service"),t(),e(24,"th"),n(25,"Status"),t()()(),e(26,"tbody"),_(27,v,10,3,"tr",null,O),g(29,S,3,0,"tr"),t()()()()),o&2){let i=m();r(5),s(i.bookings().length),r(5),s(i.services().length),r(17),f(i.recentBookings),r(2),l(29,i.recentBookings.length===0?29:-1)}}var T=(()=>{class o{constructor(i,a){this.adminService=i,this.router=a,this.bookings=c([]),this.services=c([]),this.loading=c(!0)}ngOnInit(){this.fetchData()}fetchData(){this.loading.set(!0),this.adminService.getBookings().subscribe({next:i=>{this.bookings.set(i),this.adminService.getAllServices().subscribe({next:a=>{this.services.set(a),this.loading.set(!1)}})},error:()=>{this.loading.set(!1)}})}formatDate(i){return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}get recentBookings(){return this.bookings().slice(0,5)}static{this.\u0275fac=function(a){return new(a||o)(p(M),p(C))}}static{this.\u0275cmp=b({type:o,selectors:[["app-dashboard"]],standalone:!0,features:[h],decls:8,vars:2,consts:[[1,"dashboard"],[1,"header"],[1,"muted"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-label"],[1,"stat-value"],[1,"recent-section"],[1,"card"],[1,"data-table"],[1,"badge","new"],["colspan","4",1,"empty"]],template:function(a,x){a&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Dashboard"),t(),e(4,"p",2),n(5,"Business Overview"),t()(),g(6,P,2,0,"p",2)(7,k,30,3),t()),a&2&&(r(6),l(6,x.loading()?6:-1),r(),l(7,x.loading()?-1:7))},dependencies:[u],styles:['.dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;margin-bottom:6px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:24px}.posts-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.posts-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .posts-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #e5e7eb;text-align:left}.posts-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#64748b;font-weight:500;font-size:13px}.post-row[_ngcontent-%COMP%]{min-height:64px}.post-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.post-thumb[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:6px;object-fit:cover}.badge[_ngcontent-%COMP%]{background:#e2e8f0;padding:4px 10px;border-radius:999px;font-size:12px}.status[_ngcontent-%COMP%]{font-size:12px;padding:4px 10px;border-radius:999px}.status.published[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status.draft[_ngcontent-%COMP%]{background:#fee2e2;color:#7f1d1d}.ios-toggle[_ngcontent-%COMP%]{position:relative;display:inline-block;width:42px;height:22px}.ios-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.ios-toggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background:#cbd5e1;border-radius:999px;transition:.25s cubic-bezier(.4,0,.2,1)}.ios-toggle[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:2px;bottom:2px;background:#fff;border-radius:50%;transition:.25s cubic-bezier(.4,0,.2,1)}.ios-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#2563eb}.ios-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.actions[_ngcontent-%COMP%]{display:flex;gap:6px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;font-size:14px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:24px;margin-bottom:32px}.stat-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:32px;display:flex;flex-direction:column;gap:10px}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2563eb}.recent-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #e5e7eb;text-align:left}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#64748b;font-weight:500;font-size:13px;text-transform:uppercase;letter-spacing:.05em}.data-table[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{text-align:center;color:#64748b;padding:32px}.badge.new[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}']})}}return o})();export{T as DashboardComponent};
