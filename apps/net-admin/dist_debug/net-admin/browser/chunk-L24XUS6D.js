import{d as B,f as V}from"./chunk-YBAUDIUZ.js";import{a as R}from"./chunk-DZXTVIH6.js";import{c as z,e as A,j as L,m as N,p as W,q as H,r as $,t as j}from"./chunk-OBZSDWM5.js";import"./chunk-GY5U62TY.js";import"./chunk-RT5UYCHB.js";import{$a as g,Ab as o,Bb as m,Cb as f,Db as w,Eb as P,Fb as v,Gb as O,Ia as E,Ib as I,Na as a,Oa as k,_ as y,bb as C,db as D,eb as U,fb as u,ha as _,hc as T,ia as p,ib as b,jb as x,kb as n,lb as t,oc as F,qb as M,rb as h,sb as d}from"./chunk-V2IGFCHU.js";var S=(i,l)=>l.id,G=(i,l)=>l.value;function J(i,l){i&1&&(n(0,"div",3),o(1,"Loading user details..."),t())}function Q(i,l){if(i&1&&(n(0,"code",11),o(1),t()),i&2){let e=d(2);a(),m(e.user.temp_password)}}function Y(i,l){i&1&&(n(0,"span",16),o(1,"Not set"),t())}function K(i,l){if(i&1&&(n(0,"div",31)(1,"span"),o(2,"\u{1F3E2}"),t(),o(3),t()),i&2){let e=d().$implicit;a(3),f(" ",e.company,"")}}function X(i,l){if(i&1&&(n(0,"div",31)(1,"span"),o(2,"\u{1F4DE}"),t(),o(3),t()),i&2){let e=d().$implicit;a(3),f(" ",e.phone,"")}}function Z(i,l){if(i&1&&(n(0,"div",31)(1,"span"),o(2,"\u{1F4CA}"),t(),o(3),t()),i&2){let e=d().$implicit;a(3),f(" Progress: ",e.progress,"%")}}function ee(i,l){if(i&1&&(n(0,"div",33)(1,"strong"),o(2,"\u{1F4AC} Message:"),t(),n(3,"p"),o(4),t()()),i&2){let e=d().$implicit;a(4),m(e.message)}}function te(i,l){if(i&1){let e=M();n(0,"div",24),h("click",function(){let s=_(e).$implicit,c=d(2);return c.loadStatusHistory(s.id),p(c.loadMessages(s.id))}),n(1,"div",25)(2,"span",26),o(3,"\u{1F6E1}\uFE0F"),t(),n(4,"div")(5,"strong"),o(6),t(),n(7,"span",27),o(8),t()(),n(9,"span",28),o(10),t(),n(11,"button",29),h("click",function(s){let c=_(e).$implicit,q=d(2);return s.stopPropagation(),p(q.deleteBooking(c.id))}),o(12,"\u{1F5D1}\uFE0F"),t()(),n(13,"div",30)(14,"div",31)(15,"span"),o(16,"\u{1F464}"),t(),o(17),t(),g(18,K,4,1,"div",32)(19,X,4,1,"div",32)(20,Z,4,1,"div",32),t(),g(21,ee,5,1,"div",33),t()}if(i&2){let e=l.$implicit,r=d(2);D("active",r.selectedBookingId===e.id),a(6),m(e.service_type||e.service_title||"General Inquiry"),a(2),m(r.formatDate(e.created_at)),a(),U(e.status),a(),w("",r.getStatusIcon(e.status)," ",e.status,""),a(7),f(" ",e.contact_name,""),a(),C("ngIf",e.company),a(),C("ngIf",e.phone),a(),C("ngIf",e.progress),a(),u(21,e.message?21:-1)}}function ne(i,l){if(i&1&&(n(0,"option",37),o(1),t()),i&2){let e=l.$implicit;C("value",e.value),a(),m(e.label)}}function ie(i,l){if(i&1){let e=M();n(0,"div",34)(1,"label"),o(2,"New Status"),t(),n(3,"select",35),O("ngModelChange",function(s){_(e);let c=d(2);return v(c.newStatus,s)||(c.newStatus=s),p(s)}),n(4,"option",36),o(5,"-- Select Status --"),t(),b(6,ne,2,2,"option",37,G),t()(),n(8,"div",34)(9,"label"),o(10,"Progress (%)"),t(),n(11,"input",38),O("ngModelChange",function(s){_(e);let c=d(2);return v(c.newProgress,s)||(c.newProgress=s),p(s)}),t(),n(12,"span",39),o(13),t()(),n(14,"div",34)(15,"label"),o(16,"Notes"),t(),n(17,"textarea",40),O("ngModelChange",function(s){_(e);let c=d(2);return v(c.statusNotes,s)||(c.statusNotes=s),p(s)}),t()(),n(18,"button",41),h("click",function(){_(e);let s=d(2);return p(s.updateStatus())}),o(19,"Update Status"),t()}if(i&2){let e=d(2);a(3),P("ngModel",e.newStatus),a(3),x(e.statusOptions),a(5),P("ngModel",e.newProgress),a(2),f("",e.newProgress,"%"),a(4),P("ngModel",e.statusNotes),a(),C("disabled",!e.newStatus)}}function oe(i,l){i&1&&(n(0,"p",16),o(1,"Select a booking to update its status"),t())}function ae(i,l){i&1&&(n(0,"p",16),o(1,"No status changes yet"),t())}function re(i,l){if(i&1&&(n(0,"div",48),o(1),t()),i&2){let e=d().$implicit;a(),m(e.notes)}}function se(i,l){if(i&1&&(n(0,"div",18)(1,"div",42),o(2),t(),n(3,"div",43)(4,"div",44)(5,"span",45),o(6),t(),n(7,"span",46),o(8),t()(),n(9,"div",47),o(10),t(),g(11,re,2,1,"div",48),t()()),i&2){let e=l.$implicit,r=d(2);a(2),m(r.getStatusIcon(e.new_status)),a(4),w("",e.old_status||"created"," \u2192 ",e.new_status,""),a(2),m(r.formatDate(e.created_at)),a(2),f("by ",e.changed_by_email,""),a(),u(11,e.notes?11:-1)}}function le(i,l){if(i&1&&(n(0,"div",54)(1,"a",55),o(2," \u{1F4CE} View Attachment "),t()()),i&2){let e=d().$implicit,r=d(2);a(),C("href",r.getAttachmentUrl(e.attachment_url),E)}}function de(i,l){if(i&1&&(n(0,"div",49)(1,"div",50)(2,"span",51),o(3),t(),n(4,"span",52),o(5),t()(),n(6,"div",53),o(7),g(8,le,3,1,"div",54),t()()),i&2){let e=l.$implicit,r=d(2);D("admin",e.sender_role==="admin")("user",e.sender_role==="user"),a(3),m(e.sender_role==="admin"?"Me":"\u{1F464} Client"),a(2),m(r.formatDateTime(e.created_at)),a(2),f(" ",e.content," "),a(),u(8,e.attachment_url?8:-1)}}function ce(i,l){i&1&&(n(0,"div",22)(1,"p"),o(2,"No messages yet."),t()())}function me(i,l){if(i&1){let e=M();n(0,"div",61),o(1),n(2,"span",62),h("click",function(){_(e);let s=d(3);return p(s.selectedFile=null)}),o(3,"\u2716"),t()()}if(i&2){let e=d(3);a(),f(" \u{1F4CE} ",e.selectedFile.name," ")}}function ge(i,l){if(i&1){let e=M();n(0,"div",23)(1,"div",56)(2,"textarea",57),O("ngModelChange",function(s){_(e);let c=d(2);return v(c.chatMessage,s)||(c.chatMessage=s),p(s)}),t(),n(3,"button",58),h("click",function(){_(e);let s=d(2);return p(s.sendMessage())}),o(4,"Send"),t()(),n(5,"div",59)(6,"input",60),h("change",function(s){_(e);let c=d(2);return p(c.onFileSelected(s))}),t()(),g(7,me,4,1,"div",61),t()}if(i&2){let e=d(2);a(2),P("ngModel",e.chatMessage),a(),C("disabled",!e.chatMessage.trim()&&!e.selectedFile),a(4),u(7,e.selectedFile?7:-1)}}function ue(i,l){if(i&1&&(n(0,"div",4)(1,"div",5)(2,"div",6)(3,"h3"),o(4,"\u{1F4CB} User Information"),t()(),n(5,"div",7)(6,"div",8)(7,"div",9)(8,"span",10),o(9,"\u{1F194}"),t(),n(10,"div")(11,"label"),o(12,"User ID"),t(),n(13,"code"),o(14),t()()(),n(15,"div",9)(16,"span",10),o(17,"\u{1F4E7}"),t(),n(18,"div")(19,"label"),o(20,"Email"),t(),n(21,"span"),o(22),t()()(),n(23,"div",9)(24,"span",10),o(25,"\u{1F511}"),t(),n(26,"div")(27,"label"),o(28,"Current Password"),t(),g(29,Q,2,1,"code",11)(30,Y,2,0),t()(),n(31,"div",9)(32,"span",10),o(33,"\u{1F4C5}"),t(),n(34,"div")(35,"label"),o(36,"Joined"),t(),n(37,"span"),o(38),t()()()()()(),n(39,"div",12)(40,"div",6)(41,"h3"),o(42),t()(),n(43,"div",7),b(44,te,22,13,"div",13,S),t()(),n(46,"div",14)(47,"div",6)(48,"h3"),o(49,"\u{1F504} Update Status"),t()(),n(50,"div",7),g(51,ie,20,5)(52,oe,2,0),t()(),n(53,"div",15)(54,"div",6)(55,"h3"),o(56,"\u{1F4DC} Status Timeline"),t()(),n(57,"div",7),g(58,ae,2,0,"p",16),n(59,"div",17),b(60,se,12,6,"div",18,S),t()()(),n(62,"div",19)(63,"div",6)(64,"h3"),o(65,"\u{1F4AC} Chat with Client"),t()(),n(66,"div",7)(67,"div",20),b(68,de,9,8,"div",21,S),g(70,ce,3,0,"div",22),t(),g(71,ge,8,3,"div",23),t()()()),i&2){let e=d();a(14),m(e.user.id),a(8),m(e.user.email),a(7),u(29,e.user.temp_password?29:30),a(9),m(e.formatDate(e.user.created_at)),a(4),f("\u{1F4E6} Bookings (",(e.user.bookings==null?null:e.user.bookings.length)||0,")"),a(2),x(e.user.bookings),a(7),u(51,e.selectedBookingId?51:52),a(7),u(58,e.statusHistory.length===0?58:-1),a(2),x(e.statusHistory),a(8),x(e.messages),a(2),u(70,e.messages.length===0?70:-1),a(),u(71,e.chatBookingId?71:-1)}}var Me=(()=>{class i{constructor(e,r,s){this.route=e,this.router=r,this.adminService=s,this.userId="",this.user=null,this.statusHistory=[],this.messages=[],this.isLoading=!0,this.selectedBookingId=null,this.newStatus="",this.newProgress=0,this.statusNotes="",this.chatBookingId=null,this.chatMessage="",this.selectedFile=null,this.statusOptions=[{value:"pending",label:"\u23F3 Pending",color:"#fef3c7"},{value:"in_progress",label:"\u{1F504} In Progress",color:"#dbeafe"},{value:"under_review",label:"\u{1F50D} Under Review",color:"#e9d5ff"},{value:"waiting_client",label:"\u23F8\uFE0F Waiting for Client",color:"#fed7aa"},{value:"completed",label:"\u2705 Completed",color:"#dcfce7"},{value:"cancelled",label:"\u274C Cancelled",color:"#fee2e2"}],this.isEditingUser=!1,this.editEmail="",this.editPassword=""}ngOnInit(){this.userId=this.route.snapshot.paramMap.get("id")||"",console.log("INIT UserDetail, userId:",this.userId),this.loadUserDetails(),this.route.queryParams.subscribe(e=>{console.log("Query Params changed:",e),e.edit==="true"&&(console.log("Auto-opening edit mode"),this.isEditingUser=!0)})}loadUserDetails(){this.isLoading=!0,this.adminService.getUserDetails(this.userId).subscribe({next:e=>{this.user=e,this.isLoading=!1,this.editEmail=e.email,e.bookings?.length>0&&(this.loadStatusHistory(e.bookings[0].id),this.loadMessages(e.bookings[0].id))},error:e=>{console.error("Failed to load user",e),this.isLoading=!1}})}toggleEditUser(){this.isEditingUser=!this.isEditingUser,this.editPassword=""}saveUserCredentials(){if(!confirm("Are you sure you want to update these credentials?"))return;let e={};if(this.editEmail!==this.user.email&&(e.email=this.editEmail),this.editPassword&&(e.password=this.editPassword),Object.keys(e).length===0){this.isEditingUser=!1;return}console.log("Updating credentials with:",e),this.adminService.updateUserCredentials(this.userId,e).subscribe({next:()=>{alert("User credentials updated successfully"),this.isEditingUser=!1,this.loadUserDetails()},error:r=>{console.error("Failed to update credentials",r),alert("Failed to update credentials")}})}deleteUser(){confirm(`DANGER: Are you sure you want to DELETE THIS USER? 

This will permanently delete:
- The user account
- ALL their bookings
- ALL chat history

This action cannot be undone.`)&&this.adminService.deleteUser(this.userId).subscribe({next:()=>{alert("User deleted successfully"),this.router.navigate(["/admin/users"])},error:e=>{console.error("Failed to delete user",e),alert("Failed to delete user")}})}loadStatusHistory(e){if(this.selectedBookingId=e,this.user&&this.user.bookings){let r=this.user.bookings.find(s=>s.id===e);r&&(this.newStatus=r.status,this.newProgress=r.progress||0)}this.adminService.getStatusHistory(e).subscribe({next:r=>this.statusHistory=r,error:r=>console.error("Failed to load history",r)})}deleteBooking(e){confirm("Are you sure you want to delete this booking? This action cannot be undone.")&&this.adminService.deleteBooking(e).subscribe({next:()=>{this.loadUserDetails(),this.selectedBookingId===e&&(this.selectedBookingId=null,this.statusHistory=[],this.messages=[])},error:r=>console.error("Failed to delete booking",r)})}loadMessages(e){this.chatBookingId=e,this.adminService.getMessages(e).subscribe({next:r=>this.messages=r,error:r=>console.error("Failed to load messages",r)})}updateStatus(){!this.selectedBookingId||!this.newStatus||this.adminService.updateBookingStatus(this.selectedBookingId,{status:this.newStatus,progress:this.newProgress,notes:this.statusNotes}).subscribe({next:()=>{this.loadUserDetails(),this.loadStatusHistory(this.selectedBookingId),this.newStatus="",this.statusNotes=""},error:e=>console.error("Failed to update status",e)})}onFileSelected(e){let r=e.target.files[0];r&&(this.selectedFile=r)}sendMessage(){if(console.log("UserDetail.sendMessage called. ChatBookingId:",this.chatBookingId,"Message:",this.chatMessage,"File:",this.selectedFile),!this.chatBookingId||!this.chatMessage.trim()&&!this.selectedFile){console.warn("Cannot send message: Missing ID or content");return}this.adminService.sendMessage(this.chatBookingId,this.chatMessage,this.selectedFile||void 0).subscribe({next:()=>{console.log("Message sent successfully"),this.loadMessages(this.chatBookingId),this.chatMessage="",this.selectedFile=null;let e=document.getElementById("file-upload");e&&(e.value="")},error:e=>console.error("Failed to send message",e)})}goBack(){this.router.navigate(["/admin/users"])}formatDate(e){return new Date(e).toLocaleDateString()}formatDateTime(e){return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}getAttachmentUrl(e){return e?`http://localhost:3000${e}`:""}getStatusIcon(e){return{pending:"\u23F3",in_progress:"\u{1F504}",under_review:"\u{1F50D}",waiting_client:"\u23F8\uFE0F",completed:"\u2705",cancelled:"\u274C"}[e]||"\u{1F4CB}"}static{this.\u0275fac=function(r){return new(r||i)(k(B),k(V),k(R))}}static{this.\u0275cmp=y({type:i,selectors:[["app-user-detail"]],standalone:!0,features:[I],decls:8,vars:2,consts:[[1,"user-detail-container"],[1,"page-header"],[1,"btn","btn-back",3,"click"],[1,"loading"],[1,"detail-grid"],[1,"card","user-card"],[1,"card-header"],[1,"card-body"],[1,"info-grid"],[1,"info-item"],[1,"icon"],[1,"password"],[1,"card","bookings-card"],[1,"booking-item",3,"active"],[1,"card","status-card"],[1,"card","timeline-card"],[1,"text-muted"],[1,"timeline"],[1,"timeline-item"],[1,"card","chat-card"],[1,"chat-messages"],[1,"message",3,"admin","user"],[1,"text-muted",2,"text-align","center","padding","2rem","opacity","0.6"],[1,"chat-input-area"],[1,"booking-item",3,"click"],[1,"booking-header"],[1,"service-icon"],[1,"date"],[1,"status-badge"],["title","Delete Booking",1,"btn-delete",3,"click"],[1,"booking-details"],[1,"detail-row"],["class","detail-row",4,"ngIf"],[1,"booking-message"],[1,"form-group"],[3,"ngModelChange","ngModel"],["value",""],[3,"value"],["type","range","min","0","max","100",3,"ngModelChange","ngModel"],[1,"progress-value"],["rows","3","placeholder","Add notes about this status change...",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],[1,"timeline-icon"],[1,"timeline-content"],[1,"timeline-header"],[1,"status-change"],[1,"timeline-date"],[1,"timeline-by"],[1,"timeline-notes"],[1,"message"],[1,"message-header"],[1,"sender"],[1,"time"],[1,"message-content"],[1,"attachment-link"],["target","_blank",3,"href"],[1,"text-input"],["placeholder","Type your message...","rows","1",3,"ngModelChange","ngModel"],[3,"click","disabled"],[1,"file-upload"],["type","file",3,"change"],[1,"selected-file"],[3,"click"]],template:function(r,s){r&1&&(n(0,"div",0)(1,"div",1)(2,"button",2),h("click",function(){return s.goBack()}),o(3,"\u2190 Back to Users"),t(),n(4,"h2"),o(5,"\u{1F464} User Details"),t()(),g(6,J,2,0,"div",3)(7,ue,72,9,"div",4),t()),r&2&&(a(6),u(6,s.isLoading?6:-1),a(),u(7,!s.isLoading&&s.user?7:-1))},dependencies:[F,T,j,H,$,z,N,W,A,L],styles:['.user-detail-container[_ngcontent-%COMP%]{padding:0}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.btn-back[_ngcontent-%COMP%]{background:#f3f4f6;border:none;padding:.5rem 1rem;border-radius:.5rem;cursor:pointer}.btn-back[_ngcontent-%COMP%]:hover{background:#e5e7eb}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#6b7280}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1.5rem}.card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;background:#f9fafb;border-bottom:1px solid #e5e7eb}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.25rem}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.info-item[_ngcontent-%COMP%]{display:flex;gap:.75rem}.info-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6b7280;text-transform:uppercase}.info-item[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f3f4f6;padding:.125rem .375rem;border-radius:.25rem;font-size:.75rem}.info-item[_ngcontent-%COMP%]   code.password[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.bookings-card[_ngcontent-%COMP%]{grid-column:1/-1}.booking-item[_ngcontent-%COMP%]{padding:1rem;border:1px solid #e5e7eb;border-radius:.5rem;margin-bottom:1rem;cursor:pointer;transition:all .2s}.booking-item[_ngcontent-%COMP%]:hover{border-color:#2563eb}.booking-item.active[_ngcontent-%COMP%]{border-color:#2563eb;background:#eff6ff}.booking-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.booking-header[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{font-size:1.5rem}.booking-header[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.booking-header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.status-badge[_ngcontent-%COMP%]{margin-left:auto;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:500}.status-badge.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge.in_progress[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.status-badge.completed[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-badge.cancelled[_ngcontent-%COMP%]{background:#fee2e2;color:#991b1b}.booking-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;font-size:.875rem}.booking-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;gap:.25rem}.booking-message[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:#f9fafb;border-radius:.25rem;font-size:.875rem}.booking-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#374151}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem;font-size:.875rem;font-weight:500}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #d1d5db;border-radius:.375rem}.form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb}.form-group[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]{width:calc(100% - 50px)}.form-group[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:500}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:.625rem;background:#2563eb;color:#fff;border:none;border-radius:.375rem;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background:#1d4ed8}.btn-primary[_ngcontent-%COMP%]:disabled{background:#93c5fd;cursor:not-allowed}.timeline[_ngcontent-%COMP%]{position:relative}.timeline-item[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-bottom:1.5rem;position:relative}.timeline-item[_ngcontent-%COMP%]:not(:last-child):before{content:"";position:absolute;left:15px;top:30px;bottom:0;width:2px;background:#e5e7eb}.timeline-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#f3f4f6;display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0}.timeline-content[_ngcontent-%COMP%]{flex:1}.timeline-content[_ngcontent-%COMP%]   .status-change[_ngcontent-%COMP%]{font-weight:500}.timeline-content[_ngcontent-%COMP%]   .timeline-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin-left:.5rem}.timeline-content[_ngcontent-%COMP%]   .timeline-by[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280}.timeline-content[_ngcontent-%COMP%]   .timeline-notes[_ngcontent-%COMP%]{margin-top:.25rem;padding:.5rem;background:#f9fafb;border-radius:.25rem;font-size:.875rem}.chat-card[_ngcontent-%COMP%]{grid-column:1/-1}.chat-messages[_ngcontent-%COMP%]{flex:1;min-height:300px;max-height:400px;overflow-y:auto;padding:1.5rem;background:#f8fafc;border-radius:.75rem;margin-bottom:1.5rem;border:1px solid #e2e8f0}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.chat-messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.message[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;margin-bottom:1rem;max-width:75%;position:relative;box-shadow:0 2px 4px #0000000d}.message.admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;margin-left:auto;border-bottom-right-radius:.25rem}.message.admin[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{color:#fff}.message.admin[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#ffffffb3}.message.admin[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{color:#fff}.message.admin[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bfdbfe!important}.message.user[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;margin-right:auto;border-bottom-left-radius:.25rem}.message.user[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{color:#1e293b}.message.user[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#64748b}.message.user[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{color:#334155}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.75rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .sender[_ngcontent-%COMP%]{font-weight:700}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.5;white-space:pre-wrap}.message[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid rgba(0,0,0,.1)}.message[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;text-decoration:none!important;font-size:.85rem;font-weight:500;padding:.4rem .8rem;border-radius:.5rem;background:#0000000d;transition:all .2s}.message[_ngcontent-%COMP%]   .attachment-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#0000001a}.chat-input-area[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;background:#fff;padding:1rem;border-radius:.75rem;border:1px solid #e2e8f0}.chat-input-area[_ngcontent-%COMP%]   .text-input[_ngcontent-%COMP%]{display:flex;gap:1rem}.chat-input-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;background:#f8fafc;border:1px solid #e2e8f0;border-radius:.5rem;padding:.75rem;color:#0f172a;font-family:inherit;font-size:.95rem;resize:none;transition:all .2s}.chat-input-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;background:#fff;box-shadow:0 0 0 3px #3b82f61a}.chat-input-area[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.chat-input-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 1.5rem;background:#2563eb;color:#fff;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .2s}.chat-input-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#1d4ed8;transform:translateY(-1px)}.chat-input-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#cbd5e1;cursor:not-allowed}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:.85rem;color:#64748b}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::file-selector-button{margin-right:1rem;background:#f1f5f9;border:1px solid #e2e8f0;padding:.4rem .8rem;border-radius:.4rem;color:#475569;cursor:pointer;transition:all .2s;font-size:.85rem;font-weight:500}.file-upload[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]::file-selector-button:hover{background:#e2e8f0}.selected-file[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#2563eb;background:#eff6ff;padding:.5rem .75rem;width:fit-content;border-radius:.5rem;border:1px solid #bfdbfe}.selected-file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-weight:700}.selected-file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{opacity:.8}.text-muted[_ngcontent-%COMP%]{color:#6b7280;text-align:center;padding:1rem}.btn-delete[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;opacity:.7;transition:opacity .2s;font-size:1.1rem}.btn-delete[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.1)}.password-changed[_ngcontent-%COMP%]{color:#16a34a;font-weight:500;display:block;margin-bottom:2px}code.password[_ngcontent-%COMP%]{display:inline-block;background:#fef08a;padding:2px 6px;border-radius:4px;color:#854d0e;font-family:monospace}']})}}return i})();export{Me as UserDetailComponent};
