import{b as z,c as D,e as F,j as N,l as A,p as U,q as R,r as j,t as H}from"./chunk-OBZSDWM5.js";import{b as L}from"./chunk-RT5UYCHB.js";import{$a as f,Ab as o,Bb as w,Cb as M,Db as b,Eb as m,Fb as _,Gb as C,Ib as O,Mb as V,Na as s,Oa as E,Ob as W,_ as P,a as v,bb as u,db as S,gc as k,ha as d,hc as T,ia as c,kb as a,lb as i,nc as I,oc as B,qb as h,rb as p,sb as l}from"./chunk-V2IGFCHU.js";function G(g,x){if(g&1){let t=h();a(0,"button",8),p("click",function(){d(t);let e=l();return c(e.startCreate())}),o(1," + New Case Study "),i()}}function J(g,x){if(g&1&&(a(0,"div",9),o(1),i()),g&2){let t=l();s(),w(t.error)}}function K(g,x){g&1&&(a(0,"div",10),o(1,"Loading case studies..."),i())}function Q(g,x){if(g&1){let t=h();a(0,"div",11)(1,"h3"),o(2,"New Case Study"),i(),a(3,"div",12)(4,"div",13)(5,"label"),o(6,"Title *"),i(),a(7,"input",14),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.title,e)||(n.newCase.title=e),c(e)}),i()(),a(8,"div",13)(9,"label"),o(10,"Client Name *"),i(),a(11,"input",15),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.client_name,e)||(n.newCase.client_name=e),c(e)}),i()(),a(12,"div",13)(13,"label"),o(14,"Client Logo (emoji)"),i(),a(15,"input",16),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.client_logo,e)||(n.newCase.client_logo=e),c(e)}),i()(),a(16,"div",13)(17,"label"),o(18,"Industry *"),i(),a(19,"input",17),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.industry,e)||(n.newCase.industry=e),c(e)}),i()(),a(20,"div",18)(21,"label"),o(22,"Challenge *"),i(),a(23,"textarea",19),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.challenge,e)||(n.newCase.challenge=e),c(e)}),i()(),a(24,"div",18)(25,"label"),o(26,"Solution *"),i(),a(27,"textarea",20),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.solution,e)||(n.newCase.solution=e),c(e)}),i()(),a(28,"div",13)(29,"label"),o(30,"Impact (short) *"),i(),a(31,"input",21),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.impact,e)||(n.newCase.impact=e),c(e)}),i()(),a(32,"div",18)(33,"label"),o(34,"Result Metrics"),i(),a(35,"textarea",22),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.result_metrics,e)||(n.newCase.result_metrics=e),c(e)}),i()(),a(36,"div",13)(37,"label"),o(38,"Cover Image URL"),i(),a(39,"input",23),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.cover_image_url,e)||(n.newCase.cover_image_url=e),c(e)}),i()(),a(40,"div",13)(41,"label"),o(42,"Sort Order"),i(),a(43,"input",24),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.sort_order,e)||(n.newCase.sort_order=e),c(e)}),i()(),a(44,"div",25)(45,"label")(46,"input",26),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.featured,e)||(n.newCase.featured=e),c(e)}),i(),o(47," Featured on home page "),i()(),a(48,"div",13)(49,"label"),o(50,"Status"),i(),a(51,"select",27),C("ngModelChange",function(e){d(t);let n=l();return _(n.newCase.status,e)||(n.newCase.status=e),c(e)}),a(52,"option",28),o(53,"Active"),i(),a(54,"option",29),o(55,"Inactive"),i()()()(),a(56,"div",30)(57,"button",31),p("click",function(){d(t);let e=l();return c(e.createCase())}),o(58,"Create"),i(),a(59,"button",32),p("click",function(){d(t);let e=l();return c(e.cancelCreate())}),o(60,"Cancel"),i()()()}if(g&2){let t=l();s(7),m("ngModel",t.newCase.title),s(4),m("ngModel",t.newCase.client_name),s(4),m("ngModel",t.newCase.client_logo),s(4),m("ngModel",t.newCase.industry),s(4),m("ngModel",t.newCase.challenge),s(4),m("ngModel",t.newCase.solution),s(4),m("ngModel",t.newCase.impact),s(4),m("ngModel",t.newCase.result_metrics),s(4),m("ngModel",t.newCase.cover_image_url),s(4),m("ngModel",t.newCase.sort_order),s(3),m("ngModel",t.newCase.featured),s(5),m("ngModel",t.newCase.status)}}function X(g,x){if(g&1){let t=h();a(0,"div",11)(1,"h3"),o(2,"Edit Case Study"),i(),a(3,"div",12)(4,"div",13)(5,"label"),o(6,"Title *"),i(),a(7,"input",14),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.title,e)||(n.editingCase.title=e),c(e)}),i()(),a(8,"div",13)(9,"label"),o(10,"Client Name *"),i(),a(11,"input",15),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.client_name,e)||(n.editingCase.client_name=e),c(e)}),i()(),a(12,"div",13)(13,"label"),o(14,"Client Logo (emoji)"),i(),a(15,"input",16),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.client_logo,e)||(n.editingCase.client_logo=e),c(e)}),i()(),a(16,"div",13)(17,"label"),o(18,"Industry *"),i(),a(19,"input",17),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.industry,e)||(n.editingCase.industry=e),c(e)}),i()(),a(20,"div",18)(21,"label"),o(22,"Challenge *"),i(),a(23,"textarea",33),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.challenge,e)||(n.editingCase.challenge=e),c(e)}),i()(),a(24,"div",18)(25,"label"),o(26,"Solution *"),i(),a(27,"textarea",34),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.solution,e)||(n.editingCase.solution=e),c(e)}),i()(),a(28,"div",13)(29,"label"),o(30,"Impact (short) *"),i(),a(31,"input",21),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.impact,e)||(n.editingCase.impact=e),c(e)}),i()(),a(32,"div",18)(33,"label"),o(34,"Result Metrics"),i(),a(35,"textarea",22),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.result_metrics,e)||(n.editingCase.result_metrics=e),c(e)}),i()(),a(36,"div",13)(37,"label"),o(38,"Cover Image URL"),i(),a(39,"input",23),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.cover_image_url,e)||(n.editingCase.cover_image_url=e),c(e)}),i()(),a(40,"div",13)(41,"label"),o(42,"Sort Order"),i(),a(43,"input",24),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.sort_order,e)||(n.editingCase.sort_order=e),c(e)}),i()(),a(44,"div",25)(45,"label")(46,"input",26),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.featured,e)||(n.editingCase.featured=e),c(e)}),i(),o(47," Featured on home page "),i()(),a(48,"div",13)(49,"label"),o(50,"Status"),i(),a(51,"select",27),C("ngModelChange",function(e){d(t);let n=l();return _(n.editingCase.status,e)||(n.editingCase.status=e),c(e)}),a(52,"option",28),o(53,"Active"),i(),a(54,"option",29),o(55,"Inactive"),i()()()(),a(56,"div",30)(57,"button",31),p("click",function(){d(t);let e=l();return c(e.saveCase())}),o(58,"Save"),i(),a(59,"button",32),p("click",function(){d(t);let e=l();return c(e.cancelEdit())}),o(60,"Cancel"),i()()()}if(g&2){let t=l();s(7),m("ngModel",t.editingCase.title),s(4),m("ngModel",t.editingCase.client_name),s(4),m("ngModel",t.editingCase.client_logo),s(4),m("ngModel",t.editingCase.industry),s(4),m("ngModel",t.editingCase.challenge),s(4),m("ngModel",t.editingCase.solution),s(4),m("ngModel",t.editingCase.impact),s(4),m("ngModel",t.editingCase.result_metrics),s(4),m("ngModel",t.editingCase.cover_image_url),s(4),m("ngModel",t.editingCase.sort_order),s(3),m("ngModel",t.editingCase.featured),s(5),m("ngModel",t.editingCase.status)}}function Y(g,x){if(g&1){let t=h();a(0,"div",37)(1,"div",38)(2,"span",39),o(3),i(),a(4,"div",40)(5,"h3"),o(6),i(),a(7,"span",41),o(8),i()(),a(9,"span",42),o(10),i()(),a(11,"div",43)(12,"div",44)(13,"span",45),o(14,"Impact:"),i(),a(15,"span",46),o(16),i()(),a(17,"p",47),o(18),V(19,"slice"),i()(),a(20,"div",48)(21,"button",49),p("click",function(){let e=d(t).$implicit,n=l(2);return c(n.startEdit(e))}),o(22,"Edit"),i(),a(23,"button",50),p("click",function(){let e=d(t).$implicit,n=l(2);return c(n.toggleStatus(e))}),o(24),i(),a(25,"button",51),p("click",function(){let e=d(t).$implicit,n=l(2);return c(n.deleteCase(e))}),o(26,"Delete"),i()()()}if(g&2){let t=x.$implicit;S("inactive",t.status==="inactive"),s(3),w(t.client_logo),s(3),w(t.title),s(2),b("",t.client_name," \xB7 ",t.industry,""),s(),S("active",t.status==="active"),s(),M(" ",t.status," "),s(6),w(t.impact),s(2),b("",W(19,13,t.challenge,0,150),"",t.challenge.length>150?"...":"",""),s(6),M(" ",t.status==="active"?"Deactivate":"Activate"," ")}}function Z(g,x){if(g&1&&(a(0,"div",35),f(1,Y,27,17,"div",36),i()),g&2){let t=l();s(),u("ngForOf",t.caseStudies)}}function $(g,x){g&1&&(a(0,"div",52)(1,"p"),o(2,'No case studies yet. Click "New Case Study" to create one.'),i()())}var re=(()=>{class g{constructor(t){this.http=t,this.caseStudies=[],this.editingCase=null,this.isCreating=!1,this.newCase=this.getEmptyCase(),this.loading=!1,this.error="",this.apiUrl="http://localhost:3000/api/business"}ngOnInit(){this.loadCaseStudies()}getEmptyCase(){return{title:"",client_name:"",client_logo:"\u{1F3E2}",industry:"",challenge:"",solution:"",impact:"",result_metrics:"",cover_image_url:"",featured:!1,sort_order:0,status:"active"}}loadCaseStudies(){this.loading=!0;let t=localStorage.getItem("token");this.http.get(`${this.apiUrl}/case-studies/all`,{headers:{Authorization:`Bearer ${t}`}}).subscribe({next:r=>{this.caseStudies=r,this.loading=!1},error:r=>{this.error="Failed to load case studies",this.loading=!1}})}startCreate(){this.isCreating=!0,this.editingCase=null,this.newCase=this.getEmptyCase(),this.newCase.sort_order=this.caseStudies.length+1}cancelCreate(){this.isCreating=!1,this.newCase=this.getEmptyCase()}createCase(){let t=localStorage.getItem("token");this.http.post(`${this.apiUrl}/case-studies`,this.newCase,{headers:{Authorization:`Bearer ${t}`}}).subscribe({next:r=>{this.caseStudies.unshift(r),this.isCreating=!1,this.newCase=this.getEmptyCase()},error:()=>this.error="Failed to create case study"})}startEdit(t){this.editingCase=v({},t),this.isCreating=!1}cancelEdit(){this.editingCase=null}saveCase(){if(!this.editingCase)return;let t=localStorage.getItem("token");this.http.put(`${this.apiUrl}/case-studies/${this.editingCase.id}`,this.editingCase,{headers:{Authorization:`Bearer ${t}`}}).subscribe({next:r=>{let e=this.caseStudies.findIndex(n=>n.id===r.id);e>=0&&(this.caseStudies[e]=r),this.editingCase=null},error:()=>this.error="Failed to update case study"})}deleteCase(t){if(!confirm(`Delete "${t.title}"?`))return;let r=localStorage.getItem("token");this.http.delete(`${this.apiUrl}/case-studies/${t.id}`,{headers:{Authorization:`Bearer ${r}`}}).subscribe({next:()=>{this.caseStudies=this.caseStudies.filter(e=>e.id!==t.id)},error:()=>this.error="Failed to delete case study"})}toggleStatus(t){let r=t.status==="active"?"inactive":"active",e=localStorage.getItem("token");this.http.put(`${this.apiUrl}/case-studies/${t.id}`,{status:r},{headers:{Authorization:`Bearer ${e}`}}).subscribe({next:n=>{let y=this.caseStudies.findIndex(q=>q.id===t.id);y>=0&&(this.caseStudies[y]=n)},error:()=>this.error="Failed to toggle status"})}static{this.\u0275fac=function(r){return new(r||g)(E(L))}}static{this.\u0275cmp=P({type:g,selectors:[["app-case-studies"]],standalone:!0,features:[O],decls:13,vars:7,consts:[[1,"case-studies-page"],[1,"page-header"],["class","btn-primary",3,"click",4,"ngIf"],["class","error-msg",4,"ngIf"],["class","loading",4,"ngIf"],["class","case-form",4,"ngIf"],["class","cases-list",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"btn-primary",3,"click"],[1,"error-msg"],[1,"loading"],[1,"case-form"],[1,"form-grid"],[1,"form-row"],["type","text","placeholder","FinTech Security Overhaul",3,"ngModelChange","ngModel"],["type","text","placeholder","PaySecure India",3,"ngModelChange","ngModel"],["type","text","placeholder","\u{1F4B3}",3,"ngModelChange","ngModel"],["type","text","placeholder","Financial Services",3,"ngModelChange","ngModel"],[1,"form-row","full"],["rows","3","placeholder","Describe the security challenge...",3,"ngModelChange","ngModel"],["rows","3","placeholder","Describe the solution implemented...",3,"ngModelChange","ngModel"],["type","text","placeholder","100% Vulnerability Fix",3,"ngModelChange","ngModel"],["rows","2","placeholder","Detailed metrics...",3,"ngModelChange","ngModel"],["type","text","placeholder","https://...",3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"form-row","checkbox-row"],["type","checkbox",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","active"],["value","inactive"],[1,"form-actions"],[1,"btn-success",3,"click"],[1,"btn-secondary",3,"click"],["rows","3","placeholder","Describe the challenge...",3,"ngModelChange","ngModel"],["rows","3","placeholder","Describe the solution...",3,"ngModelChange","ngModel"],[1,"cases-list"],["class","case-card",3,"inactive",4,"ngFor","ngForOf"],[1,"case-card"],[1,"case-header"],[1,"case-logo"],[1,"case-meta"],[1,"client"],[1,"status-badge"],[1,"case-body"],[1,"impact-box"],[1,"impact-label"],[1,"impact-value"],[1,"challenge"],[1,"case-actions"],[1,"btn-sm","btn-edit",3,"click"],[1,"btn-sm","btn-toggle",3,"click"],[1,"btn-sm","btn-danger",3,"click"],[1,"empty-state"]],template:function(r,e){r&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),o(3,"\u{1F4CB} Case Studies"),i(),a(4,"p"),o(5,"Manage case studies for the public website"),i(),f(6,G,2,0,"button",2),i(),f(7,J,2,1,"div",3)(8,K,2,0,"div",4)(9,Q,61,12,"div",5)(10,X,61,12,"div",5)(11,Z,2,1,"div",6)(12,$,3,0,"div",7),i()),r&2&&(s(6),u("ngIf",!e.isCreating&&!e.editingCase),s(),u("ngIf",e.error),s(),u("ngIf",e.loading),s(),u("ngIf",e.isCreating),s(),u("ngIf",e.editingCase),s(),u("ngIf",e.caseStudies.length>0&&!e.loading&&!e.isCreating&&!e.editingCase),s(),u("ngIf",e.caseStudies.length===0&&!e.loading&&!e.isCreating))},dependencies:[B,k,T,I,H,R,j,D,A,z,U,F,N],styles:[".case-studies-page[_ngcontent-%COMP%]{padding:2rem;max-width:1200px}.page-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:1rem;margin-bottom:2rem}.page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex:1;color:#888;margin:0}.btn-primary[_ngcontent-%COMP%]{background:#4f46e5;color:#fff;border:none;padding:.625rem 1.25rem;border-radius:6px;cursor:pointer;font-weight:500}.btn-primary[_ngcontent-%COMP%]:hover{background:#4338ca}.btn-success[_ngcontent-%COMP%]{background:#10b981;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer}.btn-success[_ngcontent-%COMP%]:hover{background:#059669}.btn-secondary[_ngcontent-%COMP%]{background:#6b7280;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer}.btn-secondary[_ngcontent-%COMP%]:hover{background:#4b5563}.btn-sm[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.75rem;border-radius:4px;border:none;cursor:pointer}.btn-edit[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-edit[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-toggle[_ngcontent-%COMP%]{background:#f59e0b;color:#fff}.btn-toggle[_ngcontent-%COMP%]:hover{background:#d97706}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}.error-msg[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;padding:.75rem 1rem;border-radius:6px;margin-bottom:1rem}.loading[_ngcontent-%COMP%]{color:#888;padding:2rem;text-align:center}.case-form[_ngcontent-%COMP%]{background:#f9fafb;padding:1.5rem;border-radius:8px;margin-bottom:2rem}.case-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.125rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.form-row.full[_ngcontent-%COMP%]{grid-column:1/-1}.form-row.checkbox-row[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.form-row.checkbox-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:#374151}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #d1d5db;border-radius:6px;font-size:.875rem}.form-row[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e5e7eb}.cases-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.case-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;overflow:hidden;transition:all .2s}.case-card.inactive[_ngcontent-%COMP%]{opacity:.6;border-left:4px solid #ef4444}.case-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.case-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.25rem;background:#f9fafb;border-bottom:1px solid #e5e7eb}.case-header[_ngcontent-%COMP%]   .case-logo[_ngcontent-%COMP%]{font-size:2rem}.case-header[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]{flex:1}.case-header[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#111827}.case-header[_ngcontent-%COMP%]   .case-meta[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:100px;font-size:.6875rem;font-weight:600;text-transform:uppercase;background:#fee2e2;color:#dc2626}.status-badge.active[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.case-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.case-body[_ngcontent-%COMP%]   .impact-box[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:linear-gradient(135deg,#10b9811a,#10b9810d);border-radius:6px;margin-bottom:.75rem}.case-body[_ngcontent-%COMP%]   .impact-box[_ngcontent-%COMP%]   .impact-label[_ngcontent-%COMP%]{font-size:.75rem;color:#10b981;font-weight:600}.case-body[_ngcontent-%COMP%]   .impact-box[_ngcontent-%COMP%]   .impact-value[_ngcontent-%COMP%]{font-size:.875rem;color:#059669;font-weight:700}.case-body[_ngcontent-%COMP%]   .challenge[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#6b7280;line-height:1.5}.case-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;padding:.75rem 1.25rem;background:#f9fafb;border-top:1px solid #e5e7eb}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#9ca3af}"]})}}return g})();export{re as CaseStudiesComponent};
